<!DOCTYPE HTML>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>B·∫£ng ƒëi·ªÅu khi·ªÉn YOLO UNO</title>

  <!-- CSS -->
  <link rel="stylesheet" href="styles.css">

  <!-- Th∆∞ vi·ªán -->
  <script src="https://cdn.jsdelivr.net/npm/raphael@2.3.0/raphael.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/justgage@1.3.5/justgage.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

  <!-- Thanh b√™n -->
  <div class="sidebar">
    <div class="logo-container">
      <img class="logo-img"
        src="data:image/png;base64,...(b·ªè qua logo cho ng·∫Øn)..." alt="Logo">
    </div>

    <div class="nav-item active" onclick="showSection('home', event)">üè† <span>Trang ch·ªß</span></div>
    <div class="nav-item" onclick="showSection('device', event)">‚ö° <span>Thi·∫øt b·ªã</span></div>
    <div class="nav-item" onclick="showSection('info', event)">‚ÑπÔ∏è <span>Th√¥ng tin</span></div>
    <div class="nav-item" onclick="showSection('settings', event)">‚öôÔ∏è <span>C√†i ƒë·∫∑t</span></div>
  </div>

  <!-- N·ªôi dung ch√≠nh -->
  <div class="main-content">

    <!-- TRANG CH·ª¶ -->
    <div id="home" class="section fade-in">
      <header>
        <h1>B·∫£ng ƒëi·ªÅu khi·ªÉn m√¥i tr∆∞·ªùng</h1>
        <p>Gi√°m s√°t nhi·ªát ƒë·ªô v√† ƒë·ªô ·∫©m theo th·ªùi gian th·ª±c</p>
      </header>

      <div class="gauges-container">
        <div class="gauge-card">
          <h2>üå°Ô∏è Nhi·ªát ƒë·ªô (¬∞C)</h2>
          <div id="gauge_temp"></div>
        </div>

        <div class="gauge-card">
          <h2>üíß ƒê·ªô ·∫©m (%)</h2>
          <div id="gauge_humi"></div>
        </div>
      </div>
    </div>

    <!-- THI·∫æT B·ªä -->
    <div id="device" class="section" style="display:none;">
      <header>
        <h1>ƒêi·ªÅu khi·ªÉn Relay</h1>
        <p>Qu·∫£n l√Ω v√† ƒëi·ªÅu khi·ªÉn c√°c relay ƒë∆∞·ª£c k·∫øt n·ªëi.</p>
      </header>

      <div class="device-list" id="relayContainer"></div>

      <button class="add-relay-btn" onclick="openAddRelayDialog()">
        <i class="fa-solid fa-plus"></i>
      </button>
    </div>

    <!-- TH√îNG TIN -->
    <div id="info" class="section" style="display:none;">
      <header>
        <h1>Th√¥ng tin thi·∫øt b·ªã</h1>
        <p>Chi ti·∫øt h·ªá th·ªëng v√† firmware s·∫Ω hi·ªÉn th·ªã t·∫°i ƒë√¢y.</p>
      </header>
    </div>

    <!-- C√ÄI ƒê·∫∂T -->
    <div id="settings" class="section settings-section" style="display:none;">
      <div class="settings-card">
        <h2><i class="fa-solid fa-gear"></i> C·∫•u h√¨nh MQTT</h2>
        <p>Nh·∫≠p th√¥ng tin MQTT CoreIOT c·ªßa b·∫°n b√™n d∆∞·ªõi.</p>

        <form id="settingsForm">
          <!-- CoreIOT MQTT -->
          <div class="input-group">
            <i class="fa-solid fa-server"></i>
            <input type="text" id="server" placeholder="Server (app.coreiot.io)" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-plug"></i>
            <input type="number" id="port" placeholder="Port (1883)" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-fingerprint"></i>
            <input type="text" id="client_id" placeholder="Client ID (MQTT)" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-user"></i>
            <input type="text" id="mqtt_username" placeholder="Username (MQTT)" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-key"></i>
            <input type="password" id="mqtt_password" placeholder="Password (MQTT)">
          </div>

          <button type="submit" class="btn-save">
            <i class="fa-solid fa-floppy-disk"></i> L∆∞u c·∫•u h√¨nh
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- H·ªòP THO·∫†I TH√äM RELAY -->
  <div id="addRelayDialog" class="dialog-overlay" style="display:none;">
    <div class="dialog fade-in">
      <h3><i class="fa-solid fa-plug"></i> Th√™m relay m·ªõi</h3>
      <p>Nh·∫≠p t√™n relay v√† ch√¢n GPIO</p>

      <div class="input-field">
        <input type="text" id="relayName" placeholder="T√™n relay">
      </div>

      <div class="input-field">
        <input type="number" id="relayGPIO" placeholder="Ch√¢n GPIO">
      </div>

      <div class="dialog-buttons">
        <button class="confirm" onclick="saveRelay()">L∆∞u</button>
        <button class="cancel" onclick="closeAddRelayDialog()">H·ªßy</button>
      </div>
    </div>
  </div>

  <!-- H·ªòP THO·∫†I X√ìA RELAY -->
  <div id="confirmDeleteDialog" class="dialog-overlay" style="display:none;">
    <div class="dialog warning fade-in">
      <h3>‚ö†Ô∏è X√°c nh·∫≠n x√≥a</h3>
      <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a relay n√†y kh√¥ng?</p>

      <div class="dialog-buttons">
        <button class="danger" onclick="confirmDelete()">X√≥a</button>
        <button class="cancel" onclick="closeConfirmDelete()">H·ªßy</button>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script src="script.js"></script>
</body>

</html>
