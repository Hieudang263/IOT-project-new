??<!DOCTYPE HTML>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>B?ng di?u khi?n YOLO UNO</title>

  <!-- CSS -->
  <link rel="stylesheet" href="styles.css">

  <!-- Thu vi?n -->
  <script src="https://cdn.jsdelivr.net/npm/raphael@2.3.0/raphael.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/justgage@1.3.5/justgage.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

  <!-- Thanh bên -->
  <div class="sidebar">
    <div class="logo-container">
      <img class="logo-img"
        src="data:image/png;base64,...(b? qua logo cho ng?n)..." alt="Logo">
    </div>

    <div class="nav-item active" onclick="showSection('home', event)">?? <span>Trang ch?</span></div>
    <div class="nav-item" onclick="showSection('device', event)">? <span>Thi?t b?</span></div>
    <div class="nav-item" onclick="showSection('info', event)">?? <span>Thông tin</span></div>
    <div class="nav-item" onclick="showSection('settings', event)">?? <span>Cài d?t</span></div>
  </div>

  <!-- N?i dung chính -->
  <div class="main-content">

    <!-- TRANG CH? -->
    <div id="home" class="section fade-in">
      <header>
        <h1>B?ng di?u khi?n môi tru?ng</h1>
        <p>Giám sát nhi?t d? và d? ?m theo th?i gian th?c</p>
      </header>

      <div class="gauges-container">
        <div class="gauge-card">
          <h2>?? Nhi?t d? (°C)</h2>
          <div id="gauge_temp"></div>
        </div>

        <div class="gauge-card">
          <h2>?? Ð? ?m (%)</h2>
          <div id="gauge_humi"></div>
        </div>

        <div class="gauge-card">
          <h2>??? Luu lu?ng mua (ADC %)</h2>
          <div id="gauge_rain"></div>
        </div>
      </div>\n    </div>

        <div class="gauge-card">
          <h2>?? Ð? ?m (%)</h2>
          <div id="gauge_humi"></div>
        <div class="gauge-card">
          <h2>??? Lu? l??ng m?a (ADC %)</h2>
          <div id="gauge_rain"></div>
        </div>
          <div id="gauge_humi"></div>
        </div>
      </div>
    </div>

    <!-- THI?T B? -->
    <div id="device" class="section" style="display:none;">
      <header>
        <h1>Ði?u khi?n Relay</h1>
        <p>Qu?n lý và di?u khi?n các relay du?c k?t n?i.</p>
      </header>

      <div class="device-list" id="relayContainer"></div>

      <button class="add-relay-btn" onclick="openAddRelayDialog()">
        <i class="fa-solid fa-plus"></i>
      </button>
    </div>

    <!-- THÔNG TIN -->
    <div id="info" class="section" style="display:none;">
      <header>
        <h1>Thông tin thi?t b?</h1>
        <p>Chi ti?t h? th?ng và firmware s? hi?n th? t?i dây.</p>
      </header>
    </div>

    <!-- CÀI Ð?T -->
    <div id="settings" class="section settings-section" style="display:none;">
      <div class="settings-card">
        <h2><i class="fa-solid fa-gear"></i> C?u hình thi?t b?</h2>
        <p>Nh?p thông tin Wi-Fi và MQTT CoreIOT c?a b?n bên du?i.</p>

        <form id="settingsForm">
          <!-- WiFi -->
          <div class="input-group">
            <i class="fa-solid fa-wifi"></i>
            <input type="text" id="ssid" placeholder="Tên Wi-Fi (SSID)" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-lock"></i>
            <input type="password" id="password" placeholder="M?t kh?u Wi-Fi" required>
          </div>

          <!-- CoreIOT MQTT -->
          <div class="input-group">
            <i class="fa-solid fa-server"></i>
            <input type="text" id="server" placeholder="Server (app.coreiot.io)" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-plug"></i>
            <input type="number" id="port" placeholder="Port (1883)" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-fingerprint"></i>
            <input type="text" id="client_id" placeholder="Client ID (MQTT)" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-user"></i>
            <input type="text" id="mqtt_username" placeholder="Username (MQTT)" required>
          </div>

          <div class="input-group">
            <i class="fa-solid fa-key"></i>
            <input type="password" id="mqtt_password" placeholder="Password (MQTT)">
          </div>

          <button type="submit" class="btn-save">
            <i class="fa-solid fa-floppy-disk"></i> Luu c?u hình
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- H?P THO?I THÊM RELAY -->
  <div id="addRelayDialog" class="dialog-overlay" style="display:none;">
    <div class="dialog fade-in">
      <h3><i class="fa-solid fa-plug"></i> Thêm relay m?i</h3>
      <p>Nh?p tên relay và chân GPIO</p>
      <div class="input-field">
        <input type="text" id="relayName" placeholder="Tên relay">
      </div>
      <div class="input-field">
        <input type="number" id="relayGPIO" placeholder="Chân GPIO">
      </div>
      <div class="dialog-buttons">
        <button class="confirm" onclick="saveRelay()">Luu</button>
        <button class="cancel" onclick="closeAddRelayDialog()">H?y</button>
      </div>
    </div>
  </div>

  <!-- H?P THO?I XÓA -->
  <div id="confirmDeleteDialog" class="dialog-overlay" style="display:none;">
    <div class="dialog warning fade-in">
      <h3>?? Xác nh?n xóa</h3>
      <p>B?n có ch?c ch?n mu?n xóa relay này không?</p>
      <div class="dialog-buttons">
        <button class="danger" onclick="confirmDelete()">Xóa</button>
        <button class="cancel" onclick="closeConfirmDelete()">H?y</button>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script src="script.js"></script>
</body>

</html>

